<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: task_share.Share Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Term Proj</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtask__share_1_1Share.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classtask__share_1_1Share-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">task_share.Share Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An item which holds data to be shared between tasks.  
 <a href="classtask__share_1_1Share.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for task_share.Share:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtask__share_1_1Share.png" usemap="#task_5Fshare.Share_map" alt=""/>
  <map id="task_5Fshare.Share_map" name="task_5Fshare.Share_map">
<area href="classtask__share_1_1BaseShare.html" title="Base class for queues and shares which exchange data between tasks. " alt="task_share.BaseShare" shape="rect" coords="0,0,139,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3139fd0c5d1df7fc15e003892d557b9a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1Share.html#a3139fd0c5d1df7fc15e003892d557b9a">__init__</a> (self, type_code, thread_protect=True, name=None)</td></tr>
<tr class="memdesc:a3139fd0c5d1df7fc15e003892d557b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a shared data item used to transfer data between tasks.  <a href="#a3139fd0c5d1df7fc15e003892d557b9a">More...</a><br /></td></tr>
<tr class="separator:a3139fd0c5d1df7fc15e003892d557b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab449c261f259db176ffeea55ccbf5d96"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1Share.html#ab449c261f259db176ffeea55ccbf5d96">put</a> (self, data, in_ISR=False)</td></tr>
<tr class="memdesc:ab449c261f259db176ffeea55ccbf5d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an item of data into the share.  <a href="#ab449c261f259db176ffeea55ccbf5d96">More...</a><br /></td></tr>
<tr class="separator:ab449c261f259db176ffeea55ccbf5d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599cd89ed1cd79af8795a51d8de70d27"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1Share.html#a599cd89ed1cd79af8795a51d8de70d27">get</a> (self, in_ISR=False)</td></tr>
<tr class="memdesc:a599cd89ed1cd79af8795a51d8de70d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an item of data from the share.  <a href="#a599cd89ed1cd79af8795a51d8de70d27">More...</a><br /></td></tr>
<tr class="separator:a599cd89ed1cd79af8795a51d8de70d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c1c075ae99ea33030dd9de7b9ae470"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1Share.html#a09c1c075ae99ea33030dd9de7b9ae470">__repr__</a> (self)</td></tr>
<tr class="memdesc:a09c1c075ae99ea33030dd9de7b9ae470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts diagnostic information about the share into a string.  <a href="#a09c1c075ae99ea33030dd9de7b9ae470">More...</a><br /></td></tr>
<tr class="separator:a09c1c075ae99ea33030dd9de7b9ae470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtask__share_1_1BaseShare"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classtask__share_1_1BaseShare')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classtask__share_1_1BaseShare.html">task_share.BaseShare</a></td></tr>
<tr class="memitem:aecdc98ad6b42e05f481cf3ffa5f72ad4 inherit pub_methods_classtask__share_1_1BaseShare"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1BaseShare.html#aecdc98ad6b42e05f481cf3ffa5f72ad4">__init__</a> (self, type_code, thread_protect=True, name=None)</td></tr>
<tr class="memdesc:aecdc98ad6b42e05f481cf3ffa5f72ad4 inherit pub_methods_classtask__share_1_1BaseShare"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a base queue object when called by a child class initializer.  <a href="classtask__share_1_1BaseShare.html#aecdc98ad6b42e05f481cf3ffa5f72ad4">More...</a><br /></td></tr>
<tr class="separator:aecdc98ad6b42e05f481cf3ffa5f72ad4 inherit pub_methods_classtask__share_1_1BaseShare"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2e8df029af46fbfd44ef0c2e7e8c7af6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__share_1_1Share.html#a2e8df029af46fbfd44ef0c2e7e8c7af6">ser_num</a> = 0</td></tr>
<tr class="memdesc:a2e8df029af46fbfd44ef0c2e7e8c7af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A counter used to give serial numbers to shares for diagnostic use.  <a href="#a2e8df029af46fbfd44ef0c2e7e8c7af6">More...</a><br /></td></tr>
<tr class="separator:a2e8df029af46fbfd44ef0c2e7e8c7af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An item which holds data to be shared between tasks. </p>
<p>This class implements a shared data item which can be protected against data corruption by pre-emptive multithreading. Multithreading which can corrupt shared data includes the use of ordinary interrupts as well as the use of pre-emptive multithreading such as by a Real-Time Operating System (RTOS).</p>
<p>An example of the creation and use of a share is as follows: </p><div class="fragment"><div class="line"><span class="keyword">import</span> task_share</div><div class="line"></div><div class="line"><span class="comment"># This share holds a signed short (16-bit) integer</span></div><div class="line">my_share = <a class="code" href="classtask__share_1_1Queue.html">task_share.Queue</a> (<span class="stringliteral">&#39;h&#39;</span>, name=<span class="stringliteral">&quot;My Share&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Somewhere in one task, put data into the share</span></div><div class="line">my_share.put (some_data)</div><div class="line"></div><div class="line"><span class="comment"># In another task, read data from the share</span></div><div class="line">something = my_share.get ()</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3139fd0c5d1df7fc15e003892d557b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3139fd0c5d1df7fc15e003892d557b9a">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def task_share.Share.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>type_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>thread_protect</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a shared data item used to transfer data between tasks. </p>
<p>This method allocates memory in which the shared data will be buffered.</p>
<p>Each share can only carry data of one particular type which must be chosen from the following list. The data type is specified by a one-letter type code which is given as for the Python <code>array.array</code> type, which can be any of the following: </p><table class="doxtable">
<tr>
<th align="left"></th><th align="left"></th><th align="left"></th></tr>
<tr>
<td align="left"><b>b</b> (signed char) </td><td align="left"><b>B</b> (unsigned char) </td><td align="left">8 bit integers </td></tr>
<tr>
<td align="left"><b>h</b> (signed short) </td><td align="left"><b>H</b> (unsigned short) </td><td align="left">16 bit integers </td></tr>
<tr>
<td align="left"><b>i</b> (signed int) </td><td align="left"><b>I</b> (unsigned int) </td><td align="left">32 bit integers (probably) </td></tr>
<tr>
<td align="left"><b>l</b> (signed long) </td><td align="left"><b>L</b> (unsigned long) </td><td align="left">32 bit integers </td></tr>
<tr>
<td align="left"><b>q</b> (signed long long) </td><td align="left"><b>Q</b> (unsigned long long) </td><td align="left">64 bit integers </td></tr>
<tr>
<td align="left"><b>f</b> (float) </td><td align="left"><b>d</b> (double-precision float) </td><td align="left"></td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type_code</td><td>The type of data items which the share can hold </td></tr>
    <tr><td class="paramname">thread_protect</td><td>True if mutual exclusion protection is used </td></tr>
    <tr><td class="paramname">name</td><td>A short name for the share, default <code>ShareN</code> where <code>N</code> is a serial number for the share </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a09c1c075ae99ea33030dd9de7b9ae470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c1c075ae99ea33030dd9de7b9ae470">&#9670;&nbsp;</a></span>__repr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def task_share.Share.__repr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts diagnostic information about the share into a string. </p>
<p>Shares are pretty simple, so we just put the name and type. </p>

</div>
</div>
<a id="a599cd89ed1cd79af8795a51d8de70d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599cd89ed1cd79af8795a51d8de70d27">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def task_share.Share.get </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>in_ISR</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an item of data from the share. </p>
<p>If thread protection is enabled, interrupts are disabled during the time that the data is being read so as to prevent data corruption by changes in the data as it is being read. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_ISR</td><td>Set this to True if calling from within an ISR </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab449c261f259db176ffeea55ccbf5d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab449c261f259db176ffeea55ccbf5d96">&#9670;&nbsp;</a></span>put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def task_share.Share.put </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>in_ISR</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an item of data into the share. </p>
<p>This method puts data into the share; any old data is overwritten. This code disables interrupts during the writing so as to prevent data corrupting by an interrupt service routine which might access the same data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data to be put into this share </td></tr>
    <tr><td class="paramname">in_ISR</td><td>Set this to True if calling from within an ISR </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2e8df029af46fbfd44ef0c2e7e8c7af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8df029af46fbfd44ef0c2e7e8c7af6">&#9670;&nbsp;</a></span>ser_num</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int task_share.Share.ser_num = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A counter used to give serial numbers to shares for diagnostic use. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="task__share_8py.html">task_share.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>task_share</b></li><li class="navelem"><a class="el" href="classtask__share_1_1Share.html">Share</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
